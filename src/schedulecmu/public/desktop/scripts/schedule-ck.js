function searchForCourse(){var e=$("#courseBrowserForm input").val();alert("Searching for "+e+"...")}function addToSchedule(e){var t=$(e).parent(),n=$(t).children("h1").html();alert("Adding "+n+" to schedule...")}function processEventForm(){var e=$("#eventFormCourseNum").val(),t=$("#eventFormType").val(),n=$("#eventFormTitle").val(),r=$("#eventFormStartTime").val(),i=$("#eventFormEndTime").val(),s=$("#eventFormLocation").val(),o=$("#eventFormAndrew").val(),u={courseNum:e,type:t,title:n,startTime:r,endTime:i,location:s,andrew:o};if(validateEventForm(u)===!0){alert("valid!");$.fancybox.close(!1)}}function validateEventForm(e){function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}var n=[];t(parseInt(e.courseNum))===!1&&n.push("#eventFormCourseNum");e.courseNum.length!==5&&n.push("#eventFormCourseNum");e.title.length===0&&n.push("#eventFormTitle");parseInt(e.endTime)<=parseInt(e.startTime)&&n.push("#eventFormEndTime");e.location.length===0&&n.push("#eventFormLocation");e.andrew.length===0&&n.push("#eventFormAndrew");if(n.length===0)return!0;$.map(n,function(e,t){$(e).css("border","2px solid red")});return!1}function exportGoogleCal(){alert("Exporting to Google Calendar...")}function downloadAppleCal(){alert("Downloading for Apple Calendar...")}function shareFacebook(){alert("Sharing on Facebook...")}function shareTwitter(){alert("Sharing on Twitter...")}function addCourse(){var e=$("#addCourseBox").val(),t={Num:"73-230",Sections:[{Classes:[{End:"10:20a",Loc:"POS MN AUD",Day:"M",Start:"9:00a"},{End:"10:20a",Loc:"POS MN AUD",Day:"W",Start:"9:00a"}],Num:"Lec 1",Subsections:[{Classes:[{End:"10:20a",Loc:"POS MN AUD",Day:"F",Start:"9:00a"}],Num:"A",Instructor:"Instructor TBA"},{Classes:[{End:"10:20a",Loc:"SH 214",Day:"F",Start:"9:00a"}],Num:"B",Instructor:"Instructor TBA"}],Instructor:"Groeger"},{Classes:[{End:"11:50a",Loc:"POS MN AUD",Day:"M",Start:"10:30a"},{End:"11:50a",Loc:"POS MN AUD",Day:"W",Start:"10:30a"}],Num:"Lec 2",Subsections:[{Classes:[{End:"11:50a",Loc:"POS MN AUD",Day:"F",Start:"10:30a"}],Num:"C",Instructor:"Instructor TBA"},{Classes:[{End:"11:50a",Loc:"HH B131",Day:"F",Start:"10:30a"}],Num:"D",Instructor:"Instructor TBA"}],Instructor:"Groeger"},{Classes:[{End:"11:50a",Loc:"HH B131",Day:"M",Start:"10:30a"},{End:"11:50a",Loc:"HH B131",Day:"W",Start:"10:30a"}],Num:"Lec 3",Subsections:[{Classes:[{End:"11:50a",Loc:"WEH 5421",Day:"F",Start:"10:30a"}],Num:"E",Instructor:"Instructor TBA"},{Classes:[{End:"11:50a",Loc:"GHC 4307",Day:"F",Start:"10:30a"}],Num:"F",Instructor:"Instructor TBA"}],Instructor:"Instructor TBA"},{Classes:[{End:"10:20a",Loc:"CMB 1064",Day:"U",Start:"9:30a"},{End:"10:20a",Loc:"CMB 1064",Day:"T",Start:"9:30a"}],Num:"Lec 4",Subsections:[{Classes:[{End:"10:20a",Loc:"CMB 1064",Day:"R",Start:"9:30a"}],Num:"W",Instructor:"Sileo"},{Classes:[{End:"1:50p",Loc:"CMB 2152",Day:"R",Start:"1:00p"}],Num:"X",Instructor:"Sileo"}],Instructor:"Sileo"}],Name:"Intermediate Microeconomics",Units:"9.0",Semester:131};listedCourses.push(t);var n=t.Num,r=t.Name,i=t.Units,s=$("#accordion"),o=$("<h3>").text(n),u=$("<div>").addClass("contentHdr");u.append($("<p>").text(r));var a=$("<p>").addClass("units").text(i+" units"),f=$("<p>").addClass("del").attr("onClick","deleteCourse(this);").text("delete"),l=$("<p>").addClass("info").attr("onClick","infoCourse(this);").text("info");u.append(a);u.append(f);u.append(l);u.append("<hr>");var c=$("<table>"),h=$("<tr>");h.append(newCol("Class"));h.append(newCol("Day"));h.append(newCol("Time"));c.append(h);var p=t.Sections;if(p!==undefined)for(var v=0;v<p.length;v++){var g=p[v],b=g.Classes;processClasses(b,c,g.Num);var w=g.Subsections;if(w!==undefined)for(j=0;j<w.length;j++){var E=w[j],S=E.Classes;processClasses(S,c,E.Num)}}var x=$("<div>");x.append(u);x.append(c);var T=$("<div>").addClass("group");T.append(o);T.append(x);window.accordionOpts.active="h3:last";s.append(T).accordion("destroy").accordion(window.accordionOpts);var N=o.css("background-color");$("#calview").fullCalendar("renderEvent",{id:999,title:n,start:new Date(y,m,d,16,0),end:new Date(y,m,d,18,0),allDay:!1,backgroundColor:N})}function processClasses(e,t,n){if(areSameTime(e)===!0){var r=$("<tr>");r.append(newCol(n));var i="";for(var s=0;s<e.length;s++)i+=e[s].Day;r.append(newCol(i));var o=e[0].Start,u=e[0].End;r.append(newCol(makeTimeStr(o,u)));t.append(r)}else for(var s=0;s<e.length;s++){var r=$("<tr>");s===0?r.append(newCol(n)):r.append(newCol("&nbsp;"));r.append(newCol(e[s].Day));var o=e[s].Start,u=e[s].End;r.append(newCol(makeTimeStr(o,u)));t.append(r)}}function areSameTime(e){for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];if(n.Start!==r.Start||n.End!==r.End)return!1}return!0}function newCol(e){return $("<td>").html(e)}function makeTimeStr(e,t){return e+" - "+t}function deleteCourse(e){var t=$(e).parent().parent().parent();t.remove();$("#accordion").accordion("destroy").accordion(window.accordionOpts).sortable(window.accordionSortOpts)}function infoCourse(e){var t=$(e).parent().parent().parent().index(),n=listedCourses[t],r=$("<div>").attr({id:"courseInfoBrowser",style:"display:none"}),i=$("<div>").attr("id","courseInfoHeader"),s=$("<h2>").text(n.Num),o=$("<h3>").text(n.Name),u=$("<h4>").text(n.Units+" Units");i.append(s);i.append(o);i.append(u);i.append($("<hr>"));r.append(i);$("#content").append(r);$("#courseInfoLink").click()}var date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear(),listedCourses=[];$(document).ready(function(){window.accordionOpts={heightStyle:"content",collapsible:!0,header:"> div > h3",animate:"easeOutCubic"};$(function(){$("#accordion").accordion(window.accordionOpts)});$("#addCourseForm").submit(function(e){e.preventDefault();addCourse()});$("#calview").fullCalendar({theme:!1,header:!1,weekends:!1,allDaySlot:!1,minTime:8,maxTime:20,height:800,defaultView:"agendaWeek",editable:!1,columnFormat:{month:"dddd",week:"dddd",day:"dddd"}})});$("#browseLink").fancybox({scrolling:"no",titleShow:!1});$("#eventsLink").fancybox({scrolling:"no",titleShow:!1});$("#shareLink").fancybox({scrolling:"no",titleShow:!1});$("#courseInfoLink").fancybox({scrolling:"no",titleShow:!1});